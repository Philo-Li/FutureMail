[{"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\index.js":"1","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\App.js":"2","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\queries.js":"3","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\config.js":"4","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useSignIn.js":"5","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\graphql\\mutations.js":"6","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\Home.js":"7","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\Footer.js":"8","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\SignInForm.js":"9","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useField.js":"10","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useLetters.js":"11","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\graphql\\queries.js":"12","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\PublicLettersList.js":"13","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\PublicLettersItem.js":"14"},{"size":809,"mtime":1607494564300,"results":"15","hashOfConfig":"16"},{"size":2465,"mtime":1607521404670,"results":"17","hashOfConfig":"16"},{"size":1691,"mtime":1607323944540,"results":"18","hashOfConfig":"16"},{"size":235,"mtime":1607494431297,"results":"19","hashOfConfig":"16"},{"size":579,"mtime":1607486055920,"results":"20","hashOfConfig":"16"},{"size":310,"mtime":1607324757311,"results":"21","hashOfConfig":"16"},{"size":188,"mtime":1607439882991,"results":"22","hashOfConfig":"16"},{"size":302,"mtime":1607441515344,"results":"23","hashOfConfig":"16"},{"size":1335,"mtime":1607511353575,"results":"24","hashOfConfig":"16"},{"size":327,"mtime":1607484924014,"results":"25","hashOfConfig":"16"},{"size":1156,"mtime":1607516166670,"results":"26","hashOfConfig":"16"},{"size":966,"mtime":1607513898579,"results":"27","hashOfConfig":"16"},{"size":634,"mtime":1607520738229,"results":"28","hashOfConfig":"16"},{"size":681,"mtime":1607520798521,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"o2do4f",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\index.js",[],["64","65","66","67","68","69"],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\App.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\queries.js",[],["70","71","72","73","74","75"],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\config.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useSignIn.js",["76"],"import { useMutation, useApolloClient } from '@apollo/client';\r\n\r\nimport { AUTHORIZE } from '../graphql/mutations';\r\n\r\nconst useSignIn = () => {\r\n  const [mutate, result] = useMutation(AUTHORIZE);\r\n  const apolloClient = useApolloClient();\r\n\r\n  const signIn = async ({ username, password }) => {\r\n    await mutate({ variables: { username, password } });\r\n    console.log('result', result);\r\n    localStorage.setItem('futuremail-user-token', result.data.authorize.accessToken);\r\n    apolloClient.resetStore();\r\n  };\r\n\r\n  return [signIn, result];\r\n};\r\n\r\nexport default useSignIn;\r\n","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\graphql\\mutations.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\Home.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\Footer.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\SignInForm.js",["77"],"/* eslint-disable react/jsx-props-no-spreading */\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport useSignIn from '../hooks/useSignIn';\r\nimport useField from '../hooks/useField';\r\n\r\nconst SignInForm = () => {\r\n  const username = useField('username');\r\n  const password = useField('password');\r\n  const history = useHistory();\r\n\r\n  const [signIn] = useSignIn();\r\n\r\n  const submit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      console.log(username.value, password.value);\r\n      await signIn({ username: username.value, password: password.value });\r\n      history.push('/');\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>登录</h2>\r\n      <Form id=\"signinform\" onSubmit={submit}>\r\n        <Form.Group>\r\n          <div>\r\n            <Form.Label>用户名或邮箱:</Form.Label>\r\n            <Form.Control {...username} />\r\n          </div>\r\n          <div>\r\n            <Form.Label>密码:</Form.Label>\r\n            <Form.Control {...password} />\r\n          </div>\r\n          <Button variant=\"primary\" id=\"login-button\" type=\"submit\">login</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useField.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\hooks\\useLetters.js",[],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\graphql\\queries.js",[],["78","79","80","81","82","83"],"D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\PublicLettersList.js",["84"],"import React from 'react';\r\nimport PublicLettersItem from './PublicLettersItem';\r\nimport useLetters from '../hooks/useLetters';\r\n\r\nconst Style = {\r\n  magin: 160,\r\n};\r\n\r\nconst PublicLettersList = () => {\r\n  const { letters } = useLetters();\r\n  if (!letters) return null;\r\n\r\n  const lettersNodes = letters.edges\r\n    ? letters.edges.map((edge) => edge.node)\r\n    : [];\r\n\r\n  console.log('lettersNode', lettersNodes);\r\n\r\n  return (\r\n    <div>\r\n      <h2>公开信件</h2>\r\n      {lettersNodes.map((letter) => (\r\n        <div styles={Style} key={letter.id}>\r\n          <PublicLettersItem item={letter} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublicLettersList;\r\n","D:\\Work\\CS\\GitHub\\futuremail\\futuremail-frontend\\src\\components\\PublicLettersItem.js",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"85","replacedBy":"97"},{"ruleId":"87","replacedBy":"98"},{"ruleId":"89","replacedBy":"99"},{"ruleId":"91","replacedBy":"100"},{"ruleId":"93","replacedBy":"101"},{"ruleId":"95","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":11,"column":5,"nodeType":"105","messageId":"106","endLine":11,"endColumn":16},{"ruleId":"103","severity":1,"message":"104","line":18,"column":7,"nodeType":"105","messageId":"106","endLine":18,"endColumn":18},{"ruleId":"85","replacedBy":"107"},{"ruleId":"87","replacedBy":"108"},{"ruleId":"89","replacedBy":"109"},{"ruleId":"91","replacedBy":"110"},{"ruleId":"93","replacedBy":"111"},{"ruleId":"95","replacedBy":"112"},{"ruleId":"103","severity":1,"message":"104","line":17,"column":3,"nodeType":"105","messageId":"106","endLine":17,"endColumn":14},"lines-around-directive",["113"],"no-spaced-func",["114"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],["113"],["114"],[],[],[],[],"no-console","Unexpected console statement.","MemberExpression","unexpected",["113"],["114"],[],[],[],[],"padding-line-between-statements","func-call-spacing"]